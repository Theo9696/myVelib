package myVelib;

public class User {
	
	private String name;
	private static int nextnumericalID;
	private int UserID;
	private float timecreditbalance;
	SubscriptionPossibility subscription;
	User(String name) {
		
		try {
			this.name = name;
			timecreditbalance = 0;
			this.UserID = nextnumericalID;
			nextnumericalID++;
			this.subscription = new WithoutSubscription();
		} catch (NullPointerException e) {
		System.err.println("You tried to enter a null name !");
	}
	}
	
	User(String name, int timecreditbalance, SubscriptionPossibility subscription) {
		
		try {
			this.name = name;
			this.timecreditbalance = timecreditbalance;
			this.UserID = nextnumericalID;
			nextnumericalID++;
			this.subscription = subscription;
		} catch (NullPointerException e) {
			System.err.println("You tried to enter a null name or subscription !");
		}
	}
	
	public static void main(String[] args) {
		Bicycle b = new ElectricalBicycle();
		Bicycle b2 = new MechanicalBicycle();
		User u1 = new User("Patrick", 0, new WithoutSubscription());
		User u2 = new User("Vincent", 0, new Vlibre());
		User u3 = new User(null, 1, null);
		u1.payement((float) 2.35, b);
		u2.payement(1, b2);
	}
	
	public int payement(float time, Bicycle bicycle) {
		int cost = subscription.cost(time, bicycle, this);
		System.out.println("The cost of the rent is " + cost + "€");
		return cost;
		
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public int getUserID() {
		return UserID;
	}

	public void setUserID(int userID) {
		UserID = userID;
	}

	public float getTimecreditbalance() {
		return timecreditbalance;
	}

	public void setTimecreditbalance(float f) {
		this.timecreditbalance = f;
	}
	
	public void setSubscription(SubscriptionPossibility sub) {
		this.subscription = sub;
		
	}
	
	

}
